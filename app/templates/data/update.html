{% extends "base.html" %} {% block header %} {% block title %}Update Data{%
endblock %} {% endblock %} {% block content %}
<div class="flex justify-center items-start">
  <div class="overflow-x-auto w-3/4">
    <table class="table">
      <thead>
        <tr>
          <th>Dataset Name</th>
          <th>Created</th>
          <th>Creator</th>
          <th>Location Type</th>
          <th>Invenio</th>
          <th>Project 1</th>
          <th>Project 2</th>
          <th>UID</th>
        </tr>
      </thead>

      <tbody
        class="data-table-body"
        id="update-table-body"
        hx-target="#edit_modal"
        hx-swap="innerHTML"
      >
        {% for data in data_entries %}
        <tr
          id="{{ data['data_id'] }}"
          class="hover main-detail border-b-0 border-t main-detail update-row-{{ data['data_id'] }}"
        >
          <td>{{data['data_name']}}</td>
          <td>{{data['created']}}</td>
          <td>
            {{ data['email'] + " " + data['firstname'] + " " + data['lastname']
            }}
          </td>
          <td>{{ data['data_location_type'] }}</td>
          <td>{{ data['invenio'] }}</td>
          <td>{{ data['project1_name'] }}</td>
          <td>{{ data['project2_name'] }}</td>
          <td>{{ data['uid'] }}</td>
          <td>
            <div class="flex">
              <button
                id="edit-button"
                type="button"
                hx-get="{{ url_for('data.edit_data', data_id=data['data_id']) }}"
                class="btn btn-primary btn-xs"
              >
                edit
              </button>
              <button
                id="remove-button"
                type="button"
                hx-get="{{ url_for('data.delete_confirmation', data_id=data['data_id']) }}"
                hx-target="closest td"
                hx-swap="outerHTML"
                class="btn btn-error btn-xs"
              >
                remove
              </button>
            </div>
          </td>
        </tr>
        <tr
          class="border-t-0 expanded-detail bg-base-200 update-row-{{ data['data_id'] }} "
          style="display: none"
        >
          <td></td>
          <td colspan="3" class="max-w-64 maxh-64">
            Description: {{ data['data_description'] }}
          </td>
          <td colspan="4">Location: {{ data['data_location'] }}</td>
          <td>
            <a
              href="{{ url_for('data.download_readme', data_id=data['data_id']) }}"
              ><button class="btn btn-sm btn-primary">Download UID</button></a
            >
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<div id="edit_modal"></div>

{% endblock content %}
